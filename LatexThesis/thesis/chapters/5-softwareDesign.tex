\chapter{Software Design}

\section{General Architecture}

My application will be written in Swift and SwiftUI. The file architecture diagram below serves as the foundational blueprint for my application. This visual representation offers a high-level overview of how data and functionalities are organized within the application. It outlines the structure of the app, showcasing the relationships between various components, data storage, and user interfaces. The teal files represent UI-level views, whereas the grey files represent classes that are at a lower level.

\begin{figure}[H]
    \centering
    \includegraphics[width=1\linewidth]{thesis/chapters/images/overallFileArchitecture.png}
    \caption{Overall File Architecture}
    \label{fig:overall-file-architecture}
\end{figure}

\section{APIs}

Leveraging a combination of powerful APIs, my application aims to provide an enhanced and user-centric healthcare experience. I plan to utilize HealthKit, an integral component of the iOS ecosystem, which acts as a central repository for health and fitness data. With the user's explicit consent, my application will seamlessly integrate with HealthKit, facilitating the access and sharing of vital health information from the user's iPhone and Apple Watch \cite{HealthKit}. This integration will not only enable the application to provide personalized insights but also enhance the accuracy and reliability of the data we collect.

In addition, CareKit stands as another essential pillar in my app's framework. CareKit empowers users to take control of their health, enabling us to offer functionalities that support trend analysis, goal setting, and incentives. With CareKit 2.0's availability for iOS 13 and iPadOS 13 and above, my app will be able to provide a comprehensive health management experience, fostering a proactive approach to Oral Immunotherapy \cite{CareKit}.

To transform data into informative visualizations and offer a visually appealing user interface, I plan to implement the Swift Charts framework. Swift Charts offers a concise SwiftUI-based solution for creating a wide array of customizable charts \cite{SwiftCharts}. This powerful tool provides a range of essential building blocks, such as marks, scales, axes, and legends, which I can creatively combine to develop interactive and data-driven charts. These visualizations will not only enhance the user's understanding of their OIT journey but also make the app more engaging and informative.

Lastly, Swift Data will play a pivotal role in ensuring data persistence and accessibility across app launches. This framework simplifies the management of custom data types, making it easier to store and retrieve information efficiently \cite{SwiftData}. By integrating Swift Data with SwiftUI, I can seamlessly fetch and display key data, creating a seamless and reliable user experience. Whether it's preserving user progress or maintaining essential healthcare records, Swift Data will be instrumental in maintaining data integrity and availability.

By harnessing the capabilities of HealthKit, CareKit, Swift Charts, and Swift Data, I aim to deliver a comprehensive, informative, and user-friendly platform for individuals undergoing oral immunotherapy, transforming the way they manage their health and improve their overall well-being.

\section{Class diagrams}

The Class Diagrams below serve as a blueprint for the software development of the application. By visually representing classes and their attributes, this section delves into the heart of the application's design. Following UML standards, each diagram shows the private and public variables and methods for the class.

\input{thesis/chapters/classDiagrams/cd-oitApplication}
\input{thesis/chapters/classDiagrams/cd-tabbedApplicationView}
\input{thesis/chapters/classDiagrams/cd-getStartedView}
\input{thesis/chapters/classDiagrams/cd-getSetUpView}
\input{thesis/chapters/classDiagrams/cd-profileInformation}
\input{thesis/chapters/classDiagrams/cd-allergen}
\input{thesis/chapters/classDiagrams/cd-symptom}
\input{thesis/chapters/classDiagrams/cd-medication}
\input{thesis/chapters/classDiagrams/cd-symptomsPopUp}
\input{thesis/chapters/classDiagrams/cd-homeView}
\input{thesis/chapters/classDiagrams/cd-weeklyScrollCalendarView}
\input{thesis/chapters/classDiagrams/cd-calendarDayView}
\input{thesis/chapters/classDiagrams/cd-aboutYourDoseView}
\input{thesis/chapters/classDiagrams/cd-dose}
\input{thesis/chapters/classDiagrams/cd-dosingPopUp}
\input{thesis/chapters/classDiagrams/cd-settingsView}
\input{thesis/chapters/classDiagrams/cd-healthKitManager}
\input{thesis/chapters/classDiagrams/cd-healthKitViewModel}
\input{thesis/chapters/classDiagrams/cd-insightsView}
\input{thesis/chapters/classDiagrams/cd-chartView}
\input{thesis/chapters/classDiagrams/cd-dosingView}
\input{thesis/chapters/classDiagrams/cd-addDoseView}
\input{thesis/chapters/classDiagrams/cd-dosage}
\input{thesis/chapters/classDiagrams/cd-educationView}
\input{thesis/chapters/classDiagrams/cd-articleRichLink}
\input{thesis/chapters/classDiagrams/cd-articleView}
